## 2주차 스터디

-	프로토콜
컴퓨터 내부에서, 또는 컴퓨터 사이에서 데이터의 교환 방식을 정의하는 규칙 체계
기기 간 통신은 교환되는 데이터의 형식에 대해 상호 합의를 요구하는데, 이런 형식을 정의하는 규칙의 집합을 프로토콜이라 함
-	네트워크 계층
 
![image](https://user-images.githubusercontent.com/77263479/165676594-35da96fe-3cda-487e-a0aa-42dccf93b9a1.png)

1. OSI 7계층

    네트워크를 구성하는 표준 계층 중 하나. 계층을 분리함으로써 각 계층은 독립적인 역할을 할 수 있다. 역할이 분리되면서 문제 발생시 문제의 현상을 보았을 때 어떤 계층에 문제가 생겼는지 파악 가능하다. 각 계층은 하위 계층을 사용하고 현 계층의 기능을 포함하여 상위 계층에 제공한다. 그래서 계층 구조는 위에서 바라보았을 때 아래층이 안보이는 구조라 할 수 있다. Transport Layer = 4 Layer: 송신자와 수신자의 논리적인 연결 유지할 수 있도록 / Network Layer = 3 Layer: IP가 활용되는 부분. 한 Endpoint가 다른 Endpoint로 가고자 할 경우 경로와 목적지를 찾아준다.

    1)	Physical Layer
        
        말 그대로 하드웨어 전송 기술로 이루어져 있음. 전기, 기계적인 신호를 주고받는 역할을 하는 계층. 당장 컴퓨터만 봐도 랜선 통해 인터넷에 연결하는 모습 확인 ex) 통신 케이블, 허브, 리피터 등

    2)	Data Link Layer
        
        장치 간 신호를 전달하는 물리 계층을 이용해 네트워크 상 주변 장치들 간 데이터를 전송한다. Point to Point 간 신뢰성 있는 전송을 보장하기 위한 계층. 전송 데이터에 대한 CRC 오류제어가 필요. 물리주소인 MAC주소가 이 계층에 해당. 전송 단위는 Frame ex) 스위치, 브릿지
    3)	Network Layer

        IP주소를 제공하는 계층. 네트워크 계층에서는 대표적으로 노드들을 거칠 때마다 라우팅 해주는 역할을 담당. 실제 우리 실생활에서 가장 쉽게 볼 수 있는 라우팅 장비가 공유기이다. 공유기가 라우터라는 말은 아니지만 라우터의 NAT이라는 기능을 활성화시킨 것이다. 공유기는 하나의 외부 통신선에서 들어오는 요청을 사설망에 연결되어 있는 컴퓨터에게 전달해주는 역할을 한다.
        이 계층의 대표적인 장비는 라우터, L3 스위치, IP 공유기 등이다.
        전송 단위는 Packet이다.
        
    4)	Transport Layer
        전송계층의 경우 양 끝단(End to End)의 사용자들이 데이터를 주고받을 수 있게 하는 계층. 대표적으로 우리가 자주 사용하는 TCP, UDP 프로토콜이 있는 계층이다. TCP의 경우 신뢰성 있는 통신을 보장한다. 따라서 데이터가 전달되는 과정에서 여러 스위치 라우터 등등을 거치면서 데이터가 잘못 전달되는 현상이나 전달이 안되는 경우 오류제어, 흐름제어를 통해 신뢰성 있는 데이터가 전달될 수 있도록 한다. UDP 프로토콜의 경우 비연결형 프로토콜로서 데이터를 빠르게 전달하는 데에 초점을 두고 있다. 따라서 UDP는 목적지에 데이터가 제대로 전달되었는지조차 확인하지 않는다. 그냥 전송하면 끝인 것이다. 이렇게만 말하면 이걸 왜 쓰냐라고 할 수 있는데 비연결을 지향하고 데이터를 전달할 때 TCP에 비해 오버헤드가 적다. 그래서 신뢰성 있는 데이터 전송이 필요할 때보다 스트리밍같이 연속적인 특성을 가지고 있는 서비스에 사용한다. 전송 단위는 Segment

    5)	Session Layer
        세션 계층부터 데이터를 만들어내는 계층이다. 세션 계층은 응용 프로그램 간의 대화를 유지하기 위한 구조를 제공하고, 이를 처리하기 위해 프로세스들의 논리적인 연결을 담당하는 계층이다. 통신 중 연결이 끊어지지 않도록 유지시켜주는 역할 수행하기 위해 TCP/IP 세션 연결의 설정과 해제, 세션 메세지 전송 등의 기능을 수행한다. 단위: DATA or Message

    6)	Presentation Layer
        표현 계층은 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어준다. MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어진다. 우리가 자주 사용하는 데이터의 압축이나 인코딩 등을 여기에서 다룬다고 볼 수 있겠다. 단위: DATA

    7)	Application Layer
        응용 계층은 응용 프로세스와 직접 관계하여 일반적인 응용 서비스를 수행한다.
        한마디로 우리가 사용하는 사용자 인터페이스를 제공하는 프로그램 등을 말하는 것이다.
        대표적으로 우리가 잘 알고있는 HTTP, FTP 등의 프로토콜이 응용 계층에 속한다.

![image](https://user-images.githubusercontent.com/77263479/165676771-79960486-a1bc-4f34-8857-7be3684905a3.png)

2. TCP/IP
    
    하나의 프로토콜이 아닌 TCP와 IP를 합쳐서 부르는 말. 즉 인터넷 프로토콜 스위트는 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 통신규약의 모음이다. HTTP, FTP, SMTP 등 TCP를 기반으로 한 많은 수의 애플리케이션 프로토콜들이 IP 위에서 동작하기 때문에 묶어서 TCP/IP로 부른다.

    -	IP

        컴퓨터 찾을 때 필요한 주소. 컴퓨터 간 네트워킹을 가능하게 하는 통신 규약 (=컴퓨터 주소)
        데이터 통신을 위해서는 IP 주소가 필요함 ex) 유튜브 볼 때 유튜브 서버도 IP 주소 있어야 하고 내 컴퓨터도 IP 주소가 있어야함.
        IP 주소는 컴퓨터가 네트워크에 연결이 될 때 그때 정해짐

    -	Port

        컴퓨터가 각종 신호, 정보 주고받을 수 있도록 해주는 통신 통로 (=컴퓨터의 도로)
        여러 네트워크 활동할 때 사용하는 관문 같은 역할
        컴퓨터 안에서 프로그램을 찾기 위한 수단, 즉 각 프로세스가 위치한 방 번호라 생각하면 됨
        IP 주소가 집 주소와 비슷한 개념이면, 포트 번호는 방 번호와 비슷한 개념
        1)	프로토콜별 포트 번호 정리
        2)	포트리스닝
        3)	인바운드 / 아웃바운드
        4)	데몬

    -	Port forwarding

        컴퓨터 네트워크에서 패킷이 라우터나 방화벽 같은 네트워크 게이트웨이를 통과하는 동안 네트워크 주소를 변환해주는 것을 의미. 쉽게 말해 외부에서 접속이 가능하도록 하는 것! 외부에서 접속 시 어떤 호스트의 어떤 서비스포트에 연결을 해주는지 설정해주는 것
    
    -	AWS
        클라우드 컴퓨팅 플랫폼. 네트워킹을 기반으로 가상 컴퓨터와 스토리지, 네트워크 인프라 등 다양한 서비스 제공
    
    -	AWS Ec2
        AWS에서 제공하는 클라우드 컴퓨팅 서비스. 이 서비스를 통해 아마존이 각 세계에 구축한 데이터 센터의 서버용 컴퓨터들의 자원을 원격으로 사용할 수 있다.

    -	TCP vs UDP
        신뢰성이 요구되는 애플리케이션에서는 TCP를 사용하고 간단한 데이터를 빠른 속도로 전송하고자 하는 애플리케이션에서는 UDP를 사용한다.
    
    -	DNS (Domain Name Server)
        호스트의 도메인 이름을 호스트의 네트워크 주소로 바꾸거나 그 반대의 변환을 수행할 수 있도록 하기 위해 개발됨.
        인터넷 주소창에 Host Domain Name을 입력했을 때 (www.naver.com) 해당 문자를 IP주소로 변환해주는 시스템
    
    -	Proxy
        ‘대리’라는 의미로, 네트워크 기술에서는 프로토콜에 있어서 대리 응답 등에서 친숙한 개념이다. 보안 분야에서는 주로 보안상의 이유로 직접 통신할 수 없는 두 점 사이에서 통신을 할 경우 그 사이에 있어서 중계기로서 대리로 통신을 수행하는 기능을 가리켜 ‘프록시’, 그 중계 기능을 하는 것을 프록시 서버라고 부른다.
    
    -	네트워크 장비

        1)	랜카드 (Lan Card)
            컴퓨터를 랜, 즉 Local Area Network에 연결시키는 장비로, NIC(Network Interface Card)라고도 한다. 대부분 컴퓨터의 메인보드에 온보드형식으로 탑재되며, 직접 인터페이스 슬롯에 장착하는 형태의 랜카드는 거의 찾아볼 수 없게 됨.

        2)	허브 (Hub)
            네트워크의 중심축에 놓여 여러 컴퓨터들을 연결해주는 역할. 여러 대의 단말 장치를 연결해주기 위해 사용하는 전송로 중계장치

        3)	리피터
            신호를 수신하여 신호를 증폭하고 다음 구간으로 재전송하는 장치. 리피터를 이용하면 데이터를 먼 거리로 전송할 수 있다.

        4)	브리지
            전기적인 충돌이 일어날 수 있는 2개의 세그먼트를 연결하여 충돌 위험을 줄이고 데이터의 흐름을 제어할 수 있게 함. 전송된 데이터의 전송위치를 확인해서 현재 세그먼트에 속하면 건너가지 못하도록 이동 막음.

        5)	라우터
            3 Network 계층에 속해있는 장비로 다른 네트워크 사이의 통신을 위해 사용. IP 주소를 기반으로 데이터가 이동할 최적의 경로를 결정, 결정된 경로에 따라 데이터를 전송하게 됨.

        6)	게이트웨이
            네트워크로 들어가는 입구 같은 역할. 게이트웨이는 라우터나 스위치 등의 사용을 필요로 함. 

    -	이더넷(Ethernet)
        컴퓨터 네트워크 기술의 하나로, 일반적으로 LAN, MAN, WAN에서 가장 많이 활용되는 기술 규격. 전 세계에서 폭 넓게 이용되고 있는 네트워크 규격.

    -	MAC 주소

        컴퓨터간 데이터를 전송하기 위해 있는 컴퓨터의 물리적 주소.
        IP 주소 간의 통신은 사실 각 라우터 hop에서 일어나는 MAC주소와 MAC주소 통신의 연속적인 과정이다.
        필요한 이유? 하드웨어 식별번호! 절대 변하지 않는 기계의 고유 주소 번호. IP 주소는 변동가능성이 있다.

    -	논의해보면 좋을 것들

        1)	 패킷에 IP와 Port가 들어가야 하는 이유: 데이터 전송의 목적지 명시 필요. 데이터 전송할 때 출발지와 목적지 주소 판별하기 위해서는 IP주소와 Port번호가 필요하다.

        2)	 SSH의 원리: SSH 핵심은 ‘Key’이다. SSH는 키를 기반으로 통신한다고 해도 과언이 아니다. 클라이언트와 서버는 각각 키를 보유하고 있으며, 이 키를 이용해 연결 상대를 인증하고 안전하게 데이터를 주고받는다. 키를 생성하는 방식 1) 비대칭키: 접속 시도시 클라이언트와 서버가 서로를 알아보기 위해 사용 2) 대칭키: 접속이 허용된 상ㅌ에서 정보를 안전하게 주고 받기 위해 사용
        *ssh란? Secure Shell = 보안 셸. 원격지 호스트 컴퓨터에 접속하기 위해 사용하는 인터넷 프로토콜. 사용자 인증부터 데이터 전송까지 모든 과정이 암호화되기 때문에 보안성이 매우 높다. 
        https://choco4study.tistory.com/32 

        3)	 SSH와 SFTP의 Port번호(22)는 왜 같은가?
        SFTP는 SSH연결을 통한 고유한 프로토콜로, 기본 SSH 프로토콜을 사용하여 연결 보안 및 인증을 제공하기 때문이다. 그래서 기본 SSH 프로토콜을 사용하므로 22번 포트를 사용하는 것이 일반적이다!

        4)	 데몬
        사용자가 직접적으로 제어하지 않고 백그라운드에서 돌면서 여러 작업을 하는 프로그램. 리눅스 시스템이 처음 가동될 때 실행되는 백그라운드 프로세스의 일종으로 메모리에 상주하면서 특정 요청이 오면 즉시 대응할 수 있도록 대기 중인 프로세스. 윈도우의 서비스와 유사

        5)	 서버 보안을 위해 어떤 부분을 신경써야할까?
        시큐어 코딩, 웹 스캐너, 웹 서버 악성코드 탐지, 웹 방화벽, 데이터 보안 https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=sundooedu&logNo=221402425021 
        https://www.huffingtonpost.kr/pakghun/story_b_7499544.html 

        6)	 NAVER 서버는 서버가 한 대 이상일 것임. 서버가 여러 대일 경우, 서버간의 통신이 어떻게 이루어질까?
            * 로드밸런싱 이용
            ->Hash 방식: IP를 서버의 대수로 나누어 연결한 후 이후로는 계속 동일한 서버로 접속
            ->Round-Robin 방식: L4와 연결된 서버에 순차적으로 접속하여 서비스 수행
            -Least-Connection: L4에서 현재 연결이 제일 적은 서버로 접속

        7)	 클라우드 컴퓨팅이란?
        인터넷(클라우드)을 통해 서버, 스토리지, 데이터베이스, 네트워킹, 소프트웨어, 분석, 인텔리전스 등의 컴퓨팅 서비스를 제공하는 것. 클라우드 컴퓨팅을 통해 더 빠른 혁신과 유연한 리소스를 제공하고 대규모 경영의 이익 효과를 누릴 수 있음. 일반적으로 사용한 클라우드 서비스에 대해서만 요금을 지불하므로, 운영 비용을 낮추고 인프라를 보다 효율적으로 운영할 수 있습니다. 그뿐만 아니라, 비즈니스 요구 사항의 변화에 따라 규모를 조정할 수 있습니다.

        8)	 AWS의 다양한 서비스에 대해서 알아보기 (ex. RDS, S3 …)
            1)	S3: 스토리지 (저장소)
            크기 제한은 있지만 개수 제한은 없기에 대용량의 데이터를 무제한으로 업로드 가능 (EC2에 저장하지 않는 이유: 대용량 데이터 저장되는 경우 서버 다운될 수 O)
            2)	CDN (Cloud Front): AWS에서 제공하는 CDN 서비스
            S3는 사용자가 파일을 다운받는 순간 비용을 지불한다. 만약 같은 region에서 다운받은 기록이 있다면 CDN에서 파일을 가져온다 (CDN는 region마다 있다) 매번 S3에 접근하지 않기에 비용 절약과 네트워크 지연 방지 측면에서 유용
            3)	RDB, Lambda, SQS, Gateway
            RDB (Relational Database): SaaS 형태로 외부 접근 막을 수 있다. AWS의 관계형 데이터베이스
            Lambda: PaaS 형태로 서버리스 컴퓨팅. 서버를 프로비저닝하거나 관리할 필요 없이 코드 실행이 가능. 사용한 컴퓨팅 시간에 대해서만 비용 지불 (vs EC2는 매번 비용 지불) 
            SQS: 애플리케이션이 클라우드와 통신하기 위한 완전 관리형 메시지 대기열
            API Gateway: Restful API를 생성 및 구성하게 해주는 서비스. API 생성 후 실제 서비스(사용자)에 배포 및 운영하기 위해서는 Stage를 생성하여 연결.

        9)	 AWS 프리티어 과금에 대하여
            프리티어: 한달에 750시간까지 무료. 인스턴스 하나만 돌릴 경우 한달 내내 켜놓아도 과금이 되지 않는 시간
            과금되는 경우  Elastic IP Address. 고정 IP 주소 서비스 (탄력적 IP)를 ec2에 붙여놓지 않는 경우 프리티어라도 과금이 된다. Ip가 부족한 상황에서 elastic ip 만들어두고 ec2에 연결하지 않으면 ip가 만들어져 있지만 사용되지 않고 있으므로 요금이 청구된다! 또한 ec2에 연결해두었더라도 ec2가 stop되어 있는 상태라면 요금이 청구된다. (elastic ip 만들어두고 할당하지 않은 상태라면 실행중인 ec2에 할당 혹은 elastic ip 삭제하기)
            혹은 기간이 지난 경우나 2개 이상 인스턴스 생성시 ,,
